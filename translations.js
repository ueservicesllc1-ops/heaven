const dictionary = {
    es: {
        "nav.home": "Inicio",
        "nav.products": "Productos",
        "nav.services": "Servicios",
        "nav.about": "Nosotros",
        "nav.news": "Noticias",
        "nav.contact": "Contacto",

        "hero.title": "Experiencia Celestial en Cada Taza",
        "hero.subtitle": "Café de altura ecuatoriano, tostado artesanalmente para despertar tus sentidos.",
        "hero.cta": "Comprar Ahora",

        "features.secure.title": "Pago Seguro",
        "features.secure.desc": "Pago 100% Seguro",
        "features.return.title": "Devolución en 30 Días",
        "features.return.desc": "Si los productos tienen problemas",
        "features.support.title": "Soporte 24/7",
        "features.support.desc": "Soporte dedicado",
        "features.delivery.title": "Envío Gratis",
        "features.delivery.desc": "Para órdenes sobre $80",

        "products.header.title": "Nuestra Selección Premium",
        "products.header.desc": "Granos seleccionados a mano, tostados a la perfección.",

        "product.molido": "Café Molido",
        "product.k12": "Caja 12 K-Cups",
        "product.k24": "Caja 24 K-Cups",
        "product.k48": "Caja de 48 Kcups",

        "about.header.title": "Nuestra Historia",
        "about.header.subtitle": "Pasión, tradición y excelencia en cada grano.",
        "about.content.title1": "Más que una Marca, una Familia",
        "about.content.p1": "Todo comenzó como una pasión familiar. En <strong>HEAVEN</strong>, somos una familia unida por el amor al buen café. Nuestro sueño siempre fue compartir con el mundo el tesoro escondido de nuestras tierras: el <strong>café de altura ecuatoriano</strong>.",
        "about.content.p2": "Con mucho esfuerzo, dedicación y respeto por la tradición, hemos logrado consolidar nuestra propia marca. No somos una gran corporación industrial; somos artesanos del café que cuidan cada detalle, desde la selección del grano hasta el tostado final.",
        "about.content.title2": "El secreto de la Altura",
        "about.content.p3": "Investigaciones confirman que Ecuador, gracias a su ubicación única en la mitad del mundo y su geografía andina, posee microclimas perfectos para el cultivo de café de especialidad.",
        "about.content.p4": "Nuestro café crece en las laderas de los Andes, a gran altitud y en suelos volcánicos ricos en minerales. Esta combinación provoca una maduración más lenta de la cereza del café, permitiendo que desarrolle:",
        "about.content.li1": "Acidez brillante y balanceada.",
        "about.content.li2": "Cuerpo complejo y sedoso.",
        "about.content.li3": "Notas aromáticas profundas a chocolate, nueces y frutas silvestres.",
        "about.content.p5": "Cada bolsa de <strong>HEAVEN</strong> representa nuestra historia, nuestro esfuerzo y nuestro deseo de llevarte una experiencia verdaderamente celestial en cada taza.",

        "news.header.title": "Noticias & Blog",
        "news.header.desc": "Descubre las últimas novedades del mundo del café.",
        "news.readmore": "Leer Artículo Completo",

        "news.article1.title": "El Secreto del Café de Altura",
        "news.article1.date": "ENERO 5, 2026",
        "news.article1.desc": "¿Sabías que la altitud afecta directamente el sabor de tu taza? Descubre por qué nuestros granos cultivados en Loja...",
        "news.article1.content": "La altitud es uno de los factores más determinantes en la calidad del café. A mayor altura, la temperatura disminuye, lo que ralentiza el ciclo de maduración del grano de café.\n\nEste proceso lento permite que la planta absorba más nutrientes del suelo y desarrolle azúcares complejos, resultando en un grano más denso y duro.\n\nEn Loja, Ecuador, nuestros cultivos situados a más de 1600 m.s.n.m. se benefician de este fenómeno. El resultado es una taza con una acidez brillante, notas florales y frutales distintivas, y un dulzor natural que no necesita azúcar.\n\nAdemás, los suelos volcánicos de la región aportan minerales esenciales que potencian el perfil de sabor único de HEAVEN.",

        "news.article2.title": "Arte Latte: Guía Básica",
        "news.article2.date": "DICIEMBRE 28, 2025",
        "news.article2.desc": "Impresiona a tus invitados con diseños básicos. Te enseñamos los trucos fundamentales de la vaporización...",
        "news.article2.content": "El Arte Latte no es solo estética, es una señal de una leche perfectamente texturizada. \n\nPara empezar, necesitas una máquina de espresso con lanceta de vapor y una jarra de acero inoxidable.\n\n1. **La Leche Correcta**: Usa leche entera fría. Las grasas y proteínas son esenciales para la microespuma.\n2. **Vaporización**: Introduce la lanceta justo debajo de la superficie para crear un remolino. Busca una textura de pintura brillante, sin burbujas grandes.\n3. **El Vertido**: Inclina la taza 45 grados. Vierte la leche en el centro desde cierta altura para mezclar, luego acerca la jarra a la superficie y aumenta el flujo para 'dibujar' el corazón o la roseta.\n\n¡La práctica hace al maestro!",

        "news.article3.title": "Salud y Café",
        "news.article3.date": "DICIEMBRE 15, 2025",
        "news.article3.desc": "Más que energía: estudios recientes confirman que el consumo moderado de café aporta antioxidantes...",
        "news.article3.content": "El café es una de las bebidas con mayor cantidad de antioxidantes en la dieta occidental.\n\nEstudios recientes sugieren que beber de 2 a 3 tazas al día puede estar asociado con:\n\n- **Salud del Hígado**: Reduce el riesgo de enfermedades hepáticas.\n- **Función Cognitiva**: La cafeína bloquea la adenosina, mejorando la concentración y el estado de ánimo.\n- **Longevidad**: Algunos estudios observacionales ligan el consumo de café con una mayor esperanza de vida.\n\nRecuerda: la clave está en el equilibrio. Disfruta tu HEAVEN sin exceso de azúcar para aprovechar todos sus beneficios.",

        "contact.header.title": "Contáctanos",
        "contact.header.desc": "Estamos aquí para responder tus dudas.",
        "contact.form.name": "Nombre Completo",
        "contact.form.email": "Correo Electrónico",
        "contact.form.subject": "Asunto",
        "contact.form.message": "Mensaje",
        "contact.form.submit": "Enviar Mensaje",
        "contact.form.sending": "Enviando...",
        "contact.form.success": "¡Mensaje enviado correctamente! Nos pondremos en contacto contigo pronto.",
        "contact.form.error": "Hubo un error al enviar el mensaje. Por favor intenta de nuevo.",

        "footer.desc": "Llevando la mejor experiencia de café a tu vida diaria.",
        "footer.quicklinks": "Enlaces Rápidos",
        "footer.contact": "Contáctanos",
        "footer.follow": "Síguenos",
        "footer.rights": "© 2026 HEAVEN Coffee. Todos los derechos reservados. | Diseñado por Freedom Labs"
    },
    en: {
        "nav.home": "Home",
        "nav.products": "Products",
        "nav.services": "Services",
        "nav.about": "About Us",
        "nav.news": "News",
        "nav.contact": "Contact",

        "hero.title": "Heavenly Experience in Every Cup",
        "hero.subtitle": "Ecuadorian high-altitude coffee, artisan roasted to awaken your senses.",
        "hero.cta": "Shop Now",

        "features.secure.title": "Secure Payment",
        "features.secure.desc": "100% Secure Payment",
        "features.return.title": "30 Days Return",
        "features.return.desc": "If goods have problems",
        "features.support.title": "24/7 Support",
        "features.support.desc": "Dedicated support",
        "features.delivery.title": "Free Delivery",
        "features.delivery.desc": "For all orders over $80",

        "products.header.title": "Our Premium Selection",
        "products.header.desc": "Hand-picked beans, roasted to perfection.",

        "product.molido": "Ground Coffee",
        "product.k12": "Box 12 K-Cups",
        "product.k24": "Box 24 K-Cups",
        "product.k48": "Box 48 Kcups",

        "about.header.title": "Our Story",
        "about.header.subtitle": "Passion, tradition, and excellence in every bean.",
        "about.content.title1": "More Than a Brand, a Family",
        "about.content.p1": "It all started as a family passion. At <strong>HEAVEN</strong>, we are a family united by the love of good coffee. Our dream was always to share with the world the hidden treasure of our lands: <strong>Ecuadorian high-altitude coffee</strong>.",
        "about.content.p2": "With much effort, dedication, and respect for tradition, we have managed to consolidate our own brand. We are not a large industrial corporation; we are coffee artisans who take care of every detail, from bean selection to final roasting.",
        "about.content.title2": "The Secret of Altitude",
        "about.content.p3": "Research confirms that Ecuador, thanks to its unique location in the middle of the world and its Andean geography, possesses perfect microclimates for growing specialty coffee.",
        "about.content.p4": "Our coffee grows on the slopes of the Andes, at high altitude and in mineral-rich volcanic soils. This combination causes a slower maturation of the coffee cherry, allowing it to develop:",
        "about.content.li1": "Bright and balanced acidity.",
        "about.content.li2": "Complex and silky body.",
        "about.content.li3": "Deep aromatic notes of chocolate, nuts, and wild fruits.",
        "about.content.p5": "Each bag of <strong>HEAVEN</strong> represents our story, our effort, and our desire to bring you a truly heavenly experience in every cup.",

        "news.header.title": "News & Blog",
        "news.header.desc": "Discover the latest news from the coffee world.",
        "news.readmore": "Read Full Article",

        "news.article1.title": "The Secret of High-Altitude Coffee",
        "news.article1.date": "JANUARY 5, 2026",
        "news.article1.desc": "Did you know that altitude directly affects the taste of your cup? Discover why our beans grown in Loja...",
        "news.article1.content": "Altitude is one of the most determining factors in coffee quality. At higher altitudes, the temperature decreases, slowing down the coffee bean's maturation cycle.\n\nThis slow process allows the plant to absorb more nutrients from the soil and develop complex sugars, resulting in a harder, denser bean.\n\nIn Loja, Ecuador, our crops situated at over 1600 m.a.s.l benefit from this phenomenon. The result is a cup with bright acidity, distinctive floral and fruit notes, and a natural sweetness that needs no sugar.\n\nAdditionally, the region's volcanic soils provide essential minerals that enhance HEAVEN's unique flavor profile.",

        "news.article2.title": "Latte Art: Basic Guide",
        "news.article2.date": "DECEMBER 28, 2025",
        "news.article2.desc": "Impress your guests with basic designs. We teach you the fundamental tricks of steaming...",
        "news.article2.content": "Latte Art is not just aesthetics, it's a sign of perfectly textured milk.\n\nTo start, you need an espresso machine with a steam wand and a stainless steel pitcher.\n\n1. **The Right Milk**: Use cold whole milk. Fats and proteins are essential for microfoam.\n2. **Steaming**: Introduce the wand just below the surface to create a vortex. Look for a glossy paint texture, without large bubbles.\n3. **The Pour**: Tilt the cup 45 degrees. Pour the milk into the center from a height to mix, then bring the pitcher closer to the surface and increase the flow to 'draw' the heart or rosette.\n\nPractice makes perfect!",

        "news.article3.title": "Health and Coffee",
        "news.article3.date": "DECEMBER 15, 2025",
        "news.article3.desc": "More than energy: recent studies confirm that moderate coffee consumption provides antioxidants...",
        "news.article3.content": "Coffee is one of the beverages with the highest amount of antioxidants in the Western diet.\n\nRecent studies suggest that drinking 2 to 3 cups a day may be associated with:\n\n- **Liver Health**: Reduces the risk of liver diseases.\n- **Cognitive Function**: Caffeine blocks adenosine, improving concentration and mood.\n- **Longevity**: Some observational studies link coffee consumption to a longer life expectancy.\n\nRemember: balance is key. Enjoy your HEAVEN without excess sugar to reap all its benefits.",

        "contact.header.title": "Contact Us",
        "contact.header.desc": "We are here to answer your questions.",
        "contact.form.name": "Full Name",
        "contact.form.email": "Email Address",
        "contact.form.subject": "Subject",
        "contact.form.message": "Message",
        "contact.form.submit": "Send Message",
        "contact.form.sending": "Sending...",
        "contact.form.success": "Message sent successfully! We will contact you soon.",
        "contact.form.error": "There was an error sending the message. Please try again.",

        "footer.desc": "Bringing the finest coffee experience to your daily life.",
        "footer.quicklinks": "Quick Links",
        "footer.contact": "Contact Us",
        "footer.follow": "Follow Us",
        "footer.rights": "© 2026 HEAVEN Coffee. All rights reserved. | Designed and Powered by Freedom Labs"
    }
};

let currentLang = localStorage.getItem('lang') || 'es'; // Default to Spanish

function updateLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('lang', lang);

    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (dictionary[lang][key]) {
            // Check if it's an input placeholder or text content
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                // If it's a placeholder, update placeholder attribute
                element.placeholder = dictionary[lang][key];
                // Also, if there's a label associated (not standard HTML but logic here might need adjustment if I were targeting labels)
            } else {
                element.innerHTML = dictionary[lang][key];
            }
        }
    });

    // CAUTION: labels are usually sibling or wrapper. 
    // In my contact form, labels are separate elements. I should apply data-i18n to labels, NOT inputs (for placeholders, inputs are fine but placeholders aren't used in the Design, labels are used).
    // Let's check contact.html again. 
    // It has <label>Nombre Completo</label> and <input>. So I will apply data-i18n to LABEL.

    // Update Language Toggle Button Appearance
    const btn = document.getElementById('langToggle');
    if (btn) btn.textContent = lang === 'es' ? 'EN' : 'ES'; // Show the OTHER option
}

// Global Translation Helper
window.t = (key) => {
    if (dictionary && dictionary[currentLang] && dictionary[currentLang][key]) {
        return dictionary[currentLang][key];
    }
    return key;
};

// Initialize
document.addEventListener('DOMContentLoaded', () => {
    // Inject Language Switcher into Nav Icons if not exists
    const navIcons = document.querySelector('.nav-icons');
    if (navIcons && !document.getElementById('langToggle')) {
        const toggleBtn = document.createElement('a');
        toggleBtn.href = "#";
        toggleBtn.id = "langToggle";
        toggleBtn.style.fontWeight = "bold";
        toggleBtn.style.border = "1px solid var(--gold-primary)";
        toggleBtn.style.padding = "2px 6px";
        toggleBtn.style.borderRadius = "4px";
        toggleBtn.style.fontSize = "0.8rem";
        toggleBtn.style.display = "flex";
        toggleBtn.style.alignItems = "center";
        toggleBtn.style.color = "var(--gold-primary)";

        toggleBtn.onclick = (e) => {
            e.preventDefault();
            const newLang = currentLang === 'es' ? 'en' : 'es';
            updateLanguage(newLang);
        };

        // Insert before the search icon or at the beginning
        navIcons.insertBefore(toggleBtn, navIcons.firstChild);
    }

    updateLanguage(currentLang);
});
